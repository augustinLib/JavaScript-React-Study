# React 이해
리액트는 자바스크립트 라이브러리로, 사용자 인터페이스를 만드는 데 사용한다.  
구조가 MVC, MVW 등인 프레임워크와 달리, 오직 **V(view)만 신경 쓰는 라이브러리이다.**  

### 컴포넌트
리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체가 있는데, 이를 컴포넌트(component)라고 한다.  
컴포넌트는 다른 프레임워크에서 사용자 인터페이스를 다룰 때 사용하는 템플릿과는 다른 개념이다.  
템플릿은 보통 데이터셋이 주어지면 HTML 태그 형식을 문자열로 반환하지만, **컴포넌트는 더 복잡한 개념이다.**  
> 컴포넌트는 재사용이 가능한 API로, 수많은 기능들을 내장하고 있으며, 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동 방식을 정의한다. 

사용자 화면에 뷰를 보여 주는 것을 렌더링이라고 한다. 리액트 라이브러리는 데이터가 변할 때마다 기존 뷰를 날려버리고, 처음부터 새로 랜더링을 한다.  
이러한 방식을 통해, 애플리케이션 구조가 매우 간단해지고, 작성해야 할 코드양도 많이 줄어든다는 장점이 있다.  
그렇다면, 리액트 라이브러리는 뷰를 어떻게 렌더링하길래 데이터가 변할 때마다 새롭게 리렌더링하면서 성능을 아끼고, 최적의 사용자 경험을 제공할 수 있을까?  
이를 알아보기 위해서는 **초기 렌더링**이라는 개념과 **리렌더링** 이라는 개념을 알아야 한다.

## 초기 렌더링
어떠한 UI관련 프레임워크, 라이브러리를 사용하던지 맨 처음 어떻게 보일지를 정하는 초기 렌더링이 필요하다.  
리액트에서는 이를 `render`함수로 다룬다.  
`render` 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다.  
**이 함수는 html 형식의 문자열을 반환하지 않고, 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 지닌 객체를 반환한다.**  
컴포넌트 내부에는 또 다른 컴포넌트들이 들어갈 수 있다. 이때, `render`함수를 실행하면 내부에 있는 컴포넌트들도 재귀적으로 렌더링한다.  
이렇게 최상위 컴포넌트의 렌더링 작업이 끝나면 지니고 있는 정보들을 이용하여 HTML 마크업(markup)을 만들고, 이를 우리가 정하는 실제 페이지의 DOM 요소 안에 주입한다.  
컴포넌트를 실제 페이지에 렌더링할때는 분리된 두 가지 절차를 따른다.  
1. 문자열 형태의 HTML 코드를 생성
2. 특정 DOM에 해당 내용 주입하면 이벤트 적용

## 조화 과정
리액트 라이브러리에서 중요한 부분인 업데이트는 어떻게 진행될까?  
우선, 리액트에서 뷰를 업데이트 할 때는 "업데이트 과정을 거친다" 라는 표현보다는 "조화(reconciliation) 과정을 거친다" 라는 표현이 더 정확하다.  
컴포넌트에서 데이터에 변화가 있을 때, 우리가 보기에는 변화에 따라 뷰가 변형되는것처럼 보이지만, **사실 새로운 요소로 갈아끼우는 것이다.**  
이 작업 또한 `render`함수가 맡아서 한다. 컴포넌트는 데이터를 업데이트했을 때 단순히 업데이트한 값을 수정하는 것이 아닌,  
**새로운 데이터를 가지고 `render`함수를 다시 호출한다.** 이 과정은 해당 새로운 데이터를 가진 뷰를 생성해내는데,  
**이때, `render`함수가 반환하는 결과를 바로 DOM에 반영하지 않고, 이전 `render`함수가 만들었던 컴포넌트 정보와 현재 `render`함수가 만든 컴포넌트 정보를 비교한다.**  
두 가지 뷰를 최소한의 연산으로 비교한 뒤, 둘의 차이를 알아내 최소한의 연산으로 DOM tree를 업데이트하는 것이다.  

# React의 특징
리액트의 주요 특징 중 하나는 virtual DOM을 사용하는 것이다.  

## DOM이란? 
virtual DOM을 알아보기 전에, DOM이 무엇인지 알아보겠다.  
DOM이란, Document Object Model의 약어이다. 즉, **객체로 문서 구조를 표현하는 방법**으로 XML이나 HTML로 작성한다.  
웹 브라우저는 DOM을 활용하여 객체에 자바스크립트와 CSS를 적용한다. **DOM은 트리 형태라서 특정 노드를 찾거나 수정하거나 제거하거나, 원하는 곳에 삽입할 수 있다.**  
이러한 DOM은, HTML이 자체적으로 정적이기 때문에 동적 UI에 최적화되어있지 않다는 장점이 있다. 이를 해결하기 위해 자바스크립트를 이용하여 동적으로 만들 수 있다.  
그러나, 최큰 웹 애플리케이션의 규모가 커지다 보니 로딩해야하는 데이터가 점점 늘어나게 되면서, DOM에 직접 접근하여 변화를 주는 방식은 성능적인 문제가 발생하기 시작하였다.  
DOM에 변화가 일어날 때마다 CSS 재연산, 레이아웃 구성, 페이지 리페인트 증 다양한 과정을 하면 너무 많은 시간이 소요된다.  

## Virtual DOM
리액트는 Virtual DOM 방식을 사용하여 DOM 업데이트를 추상화함으로써 DOM 처리 횟수를 최소화하고 효율적으로 진행한다.  
Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용한다. 이는 마치 DOM의 가벼운 사본과 비슷하다.  
리액트에서 데이터가 변경되어 웹 브라우저에 실제 DOM을 업데이트할 때는 다음 세 가지 절차가 발생한다.  
1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링
2. 이전 virtual DOM에 있던 내용과 현재 내용을 비교
3. 바뀐 부분만 실제 DOM에 적용

그러나, Virtual DOM을 사용한다고 해서 항상 빠른 것은 아니다. 작업이 매우 간단할 때는 리액트를 사용하지 않는 것이 더 좋은 성능을 보일 때도 있다.  

## React의 기타 특징
타 웹 프레임워크가 MVC 또는 MVW등의 구조를 지향하는 것과 달리, 리액트는 오직 View만 담당한다.  
이렇게 리액트는 View만 당당하는 라이브러리이기 때문에, 기타 기능은 직접 구현하여 사용해야 한다.  

# yarn
Node.js를 설치할 때, 패키지 관리 도구인 npm이 설치된다. 그러나, yarn이라는 패키지 관리 도구도 존재하는데,  
**yarn은 npm을 대체할 수 있는 도구로 npm보다 더 빠르며, 효율적인 캐시 시스템과 기타 부가 기능을 제공한다.**  
yarn은 다음과 같이 npm의 글로벌 기능을 통해 설치할 수 있다.  
```shell
npm install --global yarn
```

# create-react-app으로 프로젝트 생성하기
`create-react-app`은 리액트 프로그램을 생성할 때 필요한 웹팩, 바벨의 설치 및 설정 과정을 생략하고 바로 간편하게 프로젝트 작업 환경을 구축해 주는 도구이다.  
```shell
# yarn
yarn create react-app 프로젝트 이름

# npm
npm init react-app 프로젝트 이름
```
